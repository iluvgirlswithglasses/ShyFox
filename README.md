

# iluvgirlswithglasses' ShyFox

Basically this is [Naezr's ShyFox](https://github.com/Naezr/ShyFox), but:

1. It only support waterfox (firefox nuked itself since version 143)
2. The sidebars are hidden by default
3. Its color scheme is automatically generated by [my hyprland dots](https://github.com/iluvgirlswithglasses/dots-hyprland).

<details>
 <summary>Showcase</summary>
 <img src="https://github.com/user-attachments/assets/32b2b472-51a7-4fda-af08-6b364c659117" />
 <img src="https://github.com/user-attachments/assets/2f08597b-50f4-4d5c-806f-c51138a17378" />
</details>

<details>
 <summary>Dynamic colors scheme showcase</summary>
 <img src="https://github.com/user-attachments/assets/07b263cd-722a-47bf-8a26-712f7595236d" />
 <img src="https://github.com/user-attachments/assets/27cbf634-6039-4432-a2de-b3ecf8b27a41" />
 <img src="https://github.com/user-attachments/assets/3e78462b-b922-45fe-921a-978d35fc6bc4" />
</details>

## Usage

I said "dynamic color generation" but in reality it's nothing huge. I simply wrote a script that automatically copies Hyprland's primary color into a three-line file at `./chrome/ilgwg/color.css`. And just like that---boom! Dynamic color generation, done.

```css
<!-- file ./chrome/ilgwg/color.css -->
:root {
    --color-primary: #F0B0FF;
}
```

You can also specify a color of your choice by just editing that file. No automation needed.

### Install

#### Step 1 - Cloning

Clone this repository:

```
git clone https://github.com/iluvgirlswithglasses/ShyFox --depth 1
```

#### Step 2 - Configure extensions

 - Install [Userchrome toggle Extended](https://addons.mozilla.org/firefox/addon/userchrome-toggle-extended/)

   <details><summary>Configure Userchrome toggle Extended</summary>

   <br/>

   You need to turn on "Allow multiple styles to be active together" and turn on the first four toggles. If you will be using a popup, enable "Close popup after clicking toggle" and rename the toggles for convenience. It is recommended to follow my settings below. Make sure you click "Apply changes" button after all.

   ![toggle-settings](https://github.com/user-attachments/assets/e13d91f8-6458-4c6e-906b-c97535213584)

   It would also be nice to customize the shortcuts for toggles. I recommend these:

   ![how-to](https://github.com/user-attachments/assets/d49948f5-4544-4070-a691-dc090f37b2d3)
   ![shortkeys](https://github.com/user-attachments/assets/f6dac820-9c1e-430f-bb87-bf61c43e8d62)


   <br/>

   </details>


 - Install [Sidebery](https://addons.mozilla.org/firefox/addon/sidebery)

   <details><summary>Configure Sidebery</summary>

   <br/>

   If you used Sidebery before, it would be better to reset its settings to default.

   Then import `sidebery-settings.json` from unzipped theme files

   ![import](https://github.com/Naezr/ShyFox/assets/95460152/9961a813-d035-41cc-a6b4-146e20db45bc)

   <br/>

   </details>

#### Step 3 - Moving files to a profile folder

 - Find your [profile directory](https://support.mozilla.org/kb/profiles-where-firefox-stores-user-data). This is a guide for Firefox but is also applicable to Waterfox.
 - If you use my [hyprland dots](https://github.com/iluvgirlswithglasses/dots-hyprland), make sure to write the path of your profile directory into `~/.waterfox/default-profile` too. Example code: `echo ~/.waterfox/sx822052.default-release | cat > ~/.waterfox/default-profile`. This helps my dotfiles automatically generate a color scheme for ShyFox everytime you customize your system theme.
 - Close Waterfox.
 - Move `chrome` folder and `user.js` file from unzipped theme files into your profile directory.

   <details><summary>Profile folder structure</summary>

      <br/>

      ```js
      {random characters}.default-release // Profile folder itself
      |_ chrome         // chrome folder you put in
      |  |_ userChrome.css
      |  |_ userContent.css
      |  |_ ShyFox
      |  |  |_ ...      // css files
      |  |_ icons
      |  |  |_ ...      // svg icons
      |  |_ ...         // other stuffs
      |_ user.js        // user.js file you put in
      |_ ...            // a lot of files that was there before
      ```

      <br/>

      </details>

 - Open Waterfox

> [!NOTE]
> If you use my [hyprland dots](https://github.com/iluvgirlswithglasses/dots-hyprland), please set Waterfox theme to `System theme - auto`. My dotfiles is capable of automatically generating a color scheme for the browser.
>
> ![image](https://github.com/user-attachments/assets/5da52c2e-6b04-414a-b492-478a87b55f9a)

### Options

Settings that can be toggled via [about:config](https://support.mozilla.org/kb/about-config-editor-firefox)

| Setting | true | false / not exist (default) |
| :--- | :--- | :--- |
| `shyfox.larger.context.menu` | Using large context menu | Using compact context menu |
| `shyfox.disable.floating.search` | Floating search disabled | Floating search enabled |
| `shyfox.disable.compact.unified.extensions` | Using default extensions menu | Using compact extensions menu |
| `shyfox.remove.window.controls` | `min` `max` `close` buttons removed at all | These buttons removed only in fullscreen |
| `shyfox.enable.ext.mono.toolbar.icons` | Supported* extensions get monochrome icons as toolbar buttons | Standard icons used |
| `shyfox.enable.ext.mono.context.icons` | Supported* extensions get monochrome icons as context menu items** | Standard icons used |
| `shyfox.enable.context.menu.icons` | Many context menu items get icons** | No icons in context menus |
| `shyfox.fill.accent.with.icons.fill.color` | Attempts to use icon fill color as accent | Using hardcoded accent |
| `shyfox.force.native.controls` (Linux only) | Attempts to use system theme for `min` `max` `close` buttons  | Adwaita icons used |

<details><summary>* - Supported extensions</summary>

   <br/>

   - Userchrome Toggle Extended - toolbar button (panels icon)
   - Bitwarden - both toolbar and context menu (+ submenu items)
   - uBlock Origin - both toolbar and context menu
   - Simple Translate - only context menu item
   - Dark Reader - toolbar button (moon icon)
   - Privacy Badger - toolbar button
   - Clear URLs - only context menu item (eraser icon)
   - Midnight Lizard - toolbar button
   - Auto Tab Discard - toolbar button
   - Video Download Helper - toolbar button and context menu item

   Feel free to suggest icons for other extensions

   <br/>

</details>

** - On macOS you need to disable native context menus to see icons. `widget.macos.native-context-menus` => `false`

## Overview

### Panels

The browser interface has been divided into three panels:
- On left - Sidebar - Just Sidebery. Functionality of this extension is incredible. It is in charge of managing tabs and bookmarks. Above the main sidebar is a small bookmarks bar.
- On top - Navbar - panel where you can find the address bar and everything related to it
- On right - Toolbar - a panel with customizable buttons

### Toggles

The core of the theme is the [Userchrome toggle Extended](https://addons.mozilla.org/firefox/addon/userchrome-toggle-extended/) extension. With the help of toggles added by it the main feature of this theme is realized.

| № | Name | Recommended shortcut |
| --- | --- | --- |
| 1 | Toggle Sidebar | Ctrl + Alt + A |
| 2 | Toggle Toolbar | Ctrl + Alt + D |
| 3 | Toggle Navbar  | Ctrl + Alt + S |

Each of three panels has two states - visible and hidden. This state can be toggled independently for each panel.

| Panel state | Image |
| :--- | --- |
| Visible | ![image](https://github.com/user-attachments/assets/1925a5a8-a5fc-4403-ade1-2e1949c576c5) |
| Hidden | ![image](https://github.com/user-attachments/assets/30c6dcab-0a4b-4a04-a29d-7cc7ad150a39) |
| Hidden (on hover) | ![image](https://github.com/user-attachments/assets/ce587abc-dea1-41d6-81bb-c8e4f5f489fe) |

The visible state is normal state, panel is just there on the screen. In hidden state panel moves out of the window border and a bar appears on the border, when hovering over it panel moves out. Note that panels in a hidden state can show useful information. The top bar will show the page load progress (not very accurate), and the right bar will show the file download progress (very accurate).

## Known problems

Sometimes Sidebery doesn't show up when the sidebar is toggled. In that case, press Ctrl+E to turn Sidebery on.

## Additional information

 * The theme is only tested on the latest version of Waterfox. Firefox **used to** work, but not anymore since version 143 (god knows why).

## Thanks

* [MrOtherGuy](https://github.com/MrOtherGuy) - Thanks for the fx-autoconfig (not used here anymore) and the repository with cool css's.
* [MightyFox concept](https://www.reddit.com/r/FirefoxCSS/comments/195n51c/mightyfox_an_idea_need_help_to_build_it_up/) - Thanks for the cool concept and main idea.
* [arcticfox-theme](https://github.com/sirlan-ff00ff/arcticfox-theme) - I used this theme as a base to create my own, but there was a bit of commonality left in the process.
* [Lepton](github.com/black7375/Firefox-UI-Fix) - I gained a lot of knowledge by investigating this project. I also took the icons from there.

Ты думал здесь что-то будет?


